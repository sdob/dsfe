<div class="edit-site container">
    <form novalidate name="siteForm">

        <h1 class="edit-site__title">Add a new divesite</h1>

        <section class="edit-site__map-section">
            <editable-site-map></editable-site-map>
        </section>

        <divesite-details></divesite-details>


        <section class="edit-site__header-image">
            <h3>Header image</h3>
            <span class="help-block">
                Optional: give this site a header image.
            </span>
            <div class="edit-site__header-image-container">
                <div 
                    ng-if="!!vm.site.headerImageUrl"
                    style="height: 200px; position: relative;"
                    ng-style="{'background': 'url(\'' + vm.site.headerImageUrl + '\') center / cover'}">
                    <a
                        href
                        ng-click="vm.prepareToDeleteExistingHeaderImage()"
                        style="position: absolute; top: 16px; right: 16px;">
                        <span class="fa fa-stack fa-stack-lg overlay-action-item text-shadow-2dp">
                            <i class="fa fa-stack-2x fa-circle background"></i>
                            <i class="fa fa-stack-1x fa-times"></i>
                        </span>
                    </a>
                </div>
                <div
                    ng-if="!vm.site.headerImageUrl"
                    >
                    <form>
                        <input
                        type="file"
                        ng-model="vm.imgFile"
                        ngf-select
                        >
                        <div class="thumb-preview-container"
                            style="position: relative"
                            ng-if="vm.imgFile"
                            >
                            <a
                                href
                                ng-click="vm.removeImageThumbnail()"
                                style="position: absolute; top: 16px; right: 16px;"
                                >
                                <span class="fa fa-stack fa-stack-lg overlay-action-item">
                                    <i class="fa fa-stack-2x fa-circle background"></i>
                                    <i class="fa fa-stack-1x fa-times"></i>
                                </span>
                            </a>
                            <img
                            class="thumb-preview"
                            ngf-thumbnail="vm.imgFile"
                            >
                        </div>
                    </div>
                </div>
            </section>

            <section class="edit-site__submit ds-form__submit-row">
                <button
                    class="btn btn-default big-button"
                    ng-click="vm.summonCancelEditingModal()"
                    >
                    Quit
                </button>
                <button type="submit"
                    class="btn btn-default big-button"
                    ng-disabled="vm.isSaving"
                    ng-click="!vm.isSaving && vm.submit()">
                    <span
                        class="fa fa-fw fa-spinner fa-spin"
                        ng-show="vm.isSaving"
                        ></span>
                    <span
                        ng-show="!vm.isSaving"
                        >Save
                    </span>
                </button>
            </section>
        </form>
    </div>
